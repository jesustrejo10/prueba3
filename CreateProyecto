CREATE TABLE PERMISO (
  PER_CLAVE NUMBER,
  PER_DESCRIPCION VARCHAR2(100) NOT NULL,
  CONSTRAINT PK_PERMISO PRIMARY KEY (PER_CLAVE));

CREATE TABLE PROPIETARIO(
  PRO_CLAVE NUMBER,
  PRO_PNOMBRE VARCHAR2(100) NOT NULL,
  PRO_SNOMBRE VARCHAR2(100) ,
  PRO_PAPELLIDO VARCHAR2(100) NOT NULL,
  PRO_SAPELLIDO VARCHAR2(100),
  CONSTRAINT PK_PROPIETARIO PRIMARY KEY(PRO_CLAVE));

CREATE TABLE CUENTA(
  CUE_CLAVE NUMBER,
  CUE_MONTO FLOAT NOT NULL,
  CUE_TIPO VARCHAR2 (100) ,
  CONSTRAINT PK_CUENTA PRIMARY KEY(CUE_CLAVE),
  CONSTRAINT CK_TIPO_CUENTA CHECK (CUE_TIPO IN ('MOROSA','NO_MOROSA'))
  );
  
CREATE TABLE FONDO(
  FON_CLAVE NUMBER,
  FON_MONTO FLOAT NOT NULL,
  FON_TIPO VARCHAR2 (100) ,
  CONSTRAINT PK_FONDO PRIMARY KEY(FON_CLAVE),
  CONSTRAINT CK_TIPO_FONDO CHECK (FON_TIPO IN ('CAJA_CHICA','FONDO_RESERVA','FONDO_TRABAJO'))
  );

CREATE TABLE HORARIO(
  HOR_CLAVE NUMBER,
  HOR_TIPO VARCHAR2 (100) NOT NULL,
  HOR_DIA VARCHAR2 (100) NOT NULL ,
  CONSTRAINT PK_HORARIO PRIMARY KEY(HOR_CLAVE),
  CONSTRAINT CH_HOR_TIPO CHECK (HOR_TIPO IN ('OFICINA','ASAMBLEA')),
  CONSTRAINT CH_HOR_DIA CHECK (HOR_DIA IN ('LUNES','MARTES','MIERCOLES','JUEVES','VIERNES','SABADO','DOMINGO','FERIADO'))
  );
  
CREATE TABLE ROL(
  ROL_CLAVE NUMBER,
  ROL_NOMBRE VARCHAR2 (100) NOT NULL,
  ROL_DESCRIPCION VARCHAR2 (100) NOT NULL ,
  CONSTRAINT PK_ROL PRIMARY KEY(ROL_CLAVE)
  );

CREATE TABLE CHEQUE(
  TDP1_CLAVE NUMBER,
  TDP1_DESCRIPCION VARCHAR2 (100) NOT NULL,
  TDP1_MONTO FLOAT NOT NULL ,
  TDP1_ENDOSO VARCHAR2 (100) NOT NULL,
  CONSTRAINT PK_TDP1 PRIMARY KEY(TDP1_CLAVE),
  CONSTRAINT CH_TDP1_ENDOSO CHECK (TDP1_ENDOSO IN ('ENDOSABLE','NO_ENDOSABLE'))
  );
  
CREATE TABLE TARJETA(
  TDP2_CLAVE NUMBER,
  TDP2_DESCRIPCION VARCHAR2 (100) NOT NULL,
  TDP2_MONTO FLOAT NOT NULL ,
  TDP2_NUMERO_TARJETA VARCHAR2 (100) NOT NULL,
  CONSTRAINT PK_TDP2 PRIMARY KEY(TDP2_CLAVE)
  );
  
CREATE TABLE LIBRO(
  LIB_CLAVE NUMBER,
  LIB_TIPO VARCHAR2 (100) NOT NULL,
  CONSTRAINT PK_LIBRO PRIMARY KEY(LIB_CLAVE),
  CONSTRAINT CH_TIPO_LIBRO CHECK (LIB_TIPO IN('JUNTA','OFICINA'))
  );

CREATE TABLE EMPLEADO(
  EMP_CLAVE NUMBER,
  EMP_PNOMBRE VARCHAR2(100) NOT NULL,
  EMP_SNOMBRE VARCHAR2(100) ,
  EMP_PAPELLIDO VARCHAR2(100) NOT NULL,
  EMP_SAPELLIDO VARCHAR2(100) ,
  CONSTRAINT PK_EMPLEADO PRIMARY KEY(EMP_CLAVE)
  );

CREATE TABLE AREACOMUN(
  AC_CLAVE NUMBER,
  AC_NOMBRE VARCHAR2(100) NOT NULL,
  AC_DESCRIPCION VARCHAR2(100) ,
  CONSTRAINT PK_AREACOMUN PRIMARY KEY(AC_CLAVE)
  );
  
CREATE TABLE LUGAR(
  LUG_CLAVE NUMBER,
  LUG_NOMBRE VARCHAR2(100) NOT NULL,
  LUG_TIPO VARCHAR2(100) NOT NULL,
  LUG_FK_LUGAR NUMBER,
  CONSTRAINT PK_LUGAR PRIMARY KEY(LUG_CLAVE),
  CONSTRAINT LUGAR_FK_LUGAR FOREIGN KEY(LUG_FK_LUGAR) REFERENCES LUGAR
  );
  
CREATE TABLE PROVEEDORSERVICIO(
  PS_CLAVE NUMBER,
  PS_NOMBRE VARCHAR2(100) NOT NULL,
  PS_DESCRIPCION VARCHAR2(100) NOT NULL,
  CONSTRAINT PK_PROVEEDORSERVICIO PRIMARY KEY(PS_CLAVE)
  );

CREATE TABLE APARTAMENTO(
  APT_CLAVE   NUMBER,
  APT_PISO    VARCHAR2(100) NOT NULL,
  APT_MEDIDAS VARCHAR2(100) NOT NULL,
  CONSTRAINT PK_APARTAMENTO PRIMARY KEY(APT_CLAVE)
  );

CREATE TABLE UNIDADTRIBUTARIA(
  UNI_CLAVE   NUMBER,
  UNI_VALOR   FLOAT NOT NULL,
  CONSTRAINT PK_UNIDADTRIBUTARIA PRIMARY KEY(UNI_CLAVE)
  );
  
CREATE TABLE ROLPER(
  RP_CLAVE      NUMBER,
  RP_FK_PERMISO NUMBER,
  RP_FK_ROL     NUMBER,
  CONSTRAINT PK_ROLPER PRIMARY KEY(RP_CLAVE),
  CONSTRAINT FK_ROLPER_PERMISO FOREIGN KEY(RP_FK_PERMISO) REFERENCES PERMISO,
  CONSTRAINT FK_ROLPER_ROL  FOREIGN KEY (RP_FK_ROL) REFERENCES ROL
  );

CREATE TABLE FON_TDP(
  FT_CLAVE      NUMBER,
  FT_FK_CHEQUE  NUMBER,
  FT_FK_TARJETA NUMBER,
  FT_FK_FONDO   NUMBER  NOT NULL,
  CONSTRAINT PK_FON_TDP PRIMARY KEY(FT_CLAVE),
  CONSTRAINT FK_FON_TDP_CHEQUE FOREIGN KEY(FT_FK_CHEQUE) REFERENCES CHEQUE,
  CONSTRAINT FK_FON_TDP_TARJETA FOREIGN KEY(FT_FK_TARJETA) REFERENCES TARJETA,
  CONSTRAINT FK_FON_TDP_FONDO FOREIGN KEY(FT_FK_FONDO) REFERENCES FONDO
  );
ALTER TABLE FON_TDP ADD ( FT_MONTO FLOAT NOT NULL);

CREATE TABLE FON_TDP2(
  FT2_CLAVE      NUMBER,
  FT2_FK_CHEQUE  NUMBER ,
  FT2_MONTO      FLOAT,
  FT2_FK_FONDO   NUMBER ,
  CONSTRAINT PK_FON_TDP2 PRIMARY KEY(FT2_CLAVE),
  CONSTRAINT FK_FON_TDP2_CHEQUE FOREIGN KEY(FT2_FK_CHEQUE) REFERENCES CHEQUE,
  CONSTRAINT FK_FON_TDP2_FONDO FOREIGN KEY(FT2_FK_FONDO) REFERENCES FONDO
  );

CREATE TABLE OFICINA(
  OFI_CLAVE     NUMBER,
  OFI_CORREO    VARCHAR2 (100) NOT NULL,
  OFI_NOMBRE    VARCHAR2 (100) NOT NULL,
  OFI_FK_LUGAR  NUMBER,
  CONSTRAINT PK_OFICINA PRIMARY KEY(OFI_CLAVE),
  CONSTRAINT FK_OFICINA_LUGAR FOREIGN KEY(OFI_FK_LUGAR) REFERENCES LUGAR
  );


CREATE TABLE ASAMBLEA(
  ASA_CLAVE       NUMBER,
  ASA_TOPICO      VARCHAR2 (100) NOT NULL,
  ASA_FECHA       DATE  NOT NULL,
  ASA_TIPO        VARCHAR2 (100) NOT NULL,
  ASA_FK_OFICINA  NUMBER,
  ASA_FK_LUGAR    NUMBER,
  CONSTRAINT PK_ASAMBLEA PRIMARY KEY(ASA_CLAVE),
  CONSTRAINT FK_ASAMBLEA_LUGAR FOREIGN KEY(ASA_FK_LUGAR) REFERENCES LUGAR,
  CONSTRAINT FK_ASAMBLEA_OFICINA FOREIGN KEY (ASA_FK_OFICINA) REFERENCES OFICINA
  );

CREATE TABLE EMP_OFI(
  EO_CLAVE        NUMBER,
  EO_CARGO        VARCHAR2 (100) NOT NULL,
  EO_FK_OFICINA   NUMBER,
  EO_FK_EMPLEADO  NUMBER,
  CONSTRAINT PK_EMP_OFI PRIMARY KEY(EO_CLAVE),
  CONSTRAINT FK_EMP_OFI_EMPLEADO FOREIGN KEY(EO_FK_EMPLEADO) REFERENCES EMPLEADO,
  CONSTRAINT FK_EMP_OFI_OFICINA FOREIGN KEY (EO_FK_OFICINA) REFERENCES OFICINA
  );

CREATE TABLE EDIFICIO(
  EDI_CLAVE       NUMBER,
  EDI_RIF         VARCHAR2(100) NOT NULL UNIQUE,
  EDI_NOMBRE      VARCHAR2 (100) NOT NULL,
  EDI_FK_LUGAR     NUMBER,
  CONSTRAINT PK_EDIFICIO PRIMARY KEY(EDI_CLAVE),
  CONSTRAINT FK_EDIFICIO_LUGAR FOREIGN KEY(EDI_FK_LUGAR) REFERENCES LUGAR
  );

CREATE TABLE AREA_DET(
  AD_CLAVE        NUMBER,
  AD_FK_AREACOMUN NUMBER,
  AD_FK_EDIFICIO  NUMBER,
  CONSTRAINT PK_AREA_DET PRIMARY KEY(AD_CLAVE),
  CONSTRAINT FK_AREA_DET_EDIFICIO FOREIGN KEY(AD_FK_EDIFICIO) REFERENCES EDIFICIO,
  CONSTRAINT FK_AREA_DET_AREACOMUN  FOREIGN KEY (AD_FK_AREACOMUN) REFERENCES AREACOMUN
  );

CREATE TABLE CONTRATO(
  CONT_CLAVE              NUMBER,
  CONT_MONTO              FLOAT,
  CONT_FECHA_EMISION      DATE,
  CONT_FECHA_VENCIMIENTO  DATE,
  CONT_QUORUM_MINIMO      NUMBER,
  CONT_LLAMADOS           NUMBER,
  CONT_FK_OFICINA         NUMBER,
  CONT_FK_EDIFICIO        NUMBER,
  CONSTRAINT PK_CONTRATO PRIMARY KEY(CONT_CLAVE),
  CONSTRAINT FK_CONTRATO_EDIFICIO FOREIGN KEY(CONT_FK_EDIFICIO) REFERENCES EDIFICIO,
  CONSTRAINT FK_CONTRATO_OFICINA  FOREIGN KEY (CONT_FK_OFICINA) REFERENCES OFICINA
  );

CREATE TABLE TELEFONO(
  TLF_CLAVE               NUMBER,
  TLF_NUMERO              NUMBER,
  TLF_FK_PROPIETARIO      NUMBER,
  TLF_FK_OFICINA          NUMBER,
  CONSTRAINT PK_TELEFONO PRIMARY KEY(TLF_CLAVE),
  CONSTRAINT FK_TELEFONO_PROPIETARIO FOREIGN KEY(TLF_FK_PROPIETARIO) REFERENCES PROPIETARIO,
  CONSTRAINT FK_TELEFONO_OFICINA  FOREIGN KEY (TLF_FK_OFICINA) REFERENCES OFICINA
  );


CREATE TABLE JUNTACONDOMINIO(
  JC_CLAVE                NUMBER,
  JC_FECHA_INICIAL        DATE,
  JC_FECHA_FIN            DATE,
  JC_FK_EDIFICIO          NUMBER,
  CONSTRAINT PK_JUNTACONDOMINIO PRIMARY KEY(JC_CLAVE),
  CONSTRAINT FK_JUNTACONDOMINIO_EDIFICIO  FOREIGN KEY (JC_FK_EDIFICIO) REFERENCES EDIFICIO
  );

CREATE TABLE RECIBOMENSUAL(
  RECI_CLAVE                NUMBER,
  RECI_FECHA                DATE,
  RECI_ESTADO               VARCHAR2(100),
  RECI_FK_JUNTACONDOMINIO   NUMBER,
  CONSTRAINT PK_RECIBOMENSUAL PRIMARY KEY(RECI_CLAVE),
  CONSTRAINT FK_RECIBOMENSUAL_JC FOREIGN KEY(RECI_FK_JUNTACONDOMINIO) REFERENCES JUNTACONDOMINIO,
  CONSTRAINT CH_RECIBOMENSUAL_ESTADO CHECK (RECI_ESTADO IN ('APROBADO','NOAPROBADO'))
  );

CREATE TABLE MIEMBRO(
  MIE_CLAVE                NUMBER,
  MIE_CARGO       VARCHAR2(100),
  MIE_FK_PROPIETARIO  NUMBER,
  MIE_FK_JUNTACONDOMINIO NUMBER,
  CONSTRAINT PK_MIEMBRO PRIMARY KEY(MIE_CLAVE),
  CONSTRAINT FK_MIEMBRO_JC FOREIGN KEY(MIE_FK_JUNTACONDOMINIO) REFERENCES JUNTACONDOMINIO,
  CONSTRAINT FK_MIEMBRO_PROPIETARIO FOREIGN KEY(MIE_FK_PROPIETARIO) REFERENCES PROPIETARIO
  );

CREATE TABLE RECLAMO(
  REC_CLAVE                NUMBER,
  REC_DESCRIPCION       VARCHAR2(100),
  REC_FECHA  DATE,
  REC_FK_PROPIETARIO  NUMBER,
  REC_FK_OFICINA   NUMBER,
  CONSTRAINT PK_RECLAMO PRIMARY KEY(REC_CLAVE),
  CONSTRAINT FK_RECLAMO_OFICINA FOREIGN KEY(REC_FK_OFICINA) REFERENCES OFICINA,
  CONSTRAINT FK_RECLAMO_PROPIETARIO FOREIGN KEY(REC_FK_PROPIETARIO) REFERENCES PROPIETARIO
  );

CREATE TABLE TESORERO(
  TES_CLAVE                NUMBER,
  TES_FK_MIEMBRO  NUMBER,
  TES_FK_FONDO   NUMBER,
  CONSTRAINT PK_TESORERO PRIMARY KEY(TES_CLAVE),
  CONSTRAINT FK_TESORERO_MIEMBRO FOREIGN KEY(TES_FK_MIEMBRO) REFERENCES MIEMBRO,
  CONSTRAINT FK_TESORERO_FONDO FOREIGN KEY(TES_FK_FONDO) REFERENCES FONDO
  );

CREATE TABLE APT_DET(
  AD_CLAVE            NUMBER,
  AD_ALICUOTA         FLOAT,
  AD_FK_CUENTA        NUMBER,
  AD_FK_PROPIETARIO   NUMBER,
  AD_FK_OFICINA       NUMBER,
  AD_FK_EDIFICIO      NUMBER,
  AD_FK_APARTAMENTO   NUMBER,
  CONSTRAINT PK_APT_DET PRIMARY KEY(AD_CLAVE),
  CONSTRAINT FK_APT_DET_CUENTA FOREIGN KEY(AD_FK_CUENTA) REFERENCES CUENTA,
  CONSTRAINT FK_APT_DET_PROPIETARIO FOREIGN KEY(AD_FK_PROPIETARIO) REFERENCES PROPIETARIO,
  CONSTRAINT FK_APT_DET_OFICINA FOREIGN KEY(AD_FK_OFICINA) REFERENCES OFICINA,
  CONSTRAINT FK_APT_DET_EDIFICIO FOREIGN KEY(AD_FK_EDIFICIO) REFERENCES EDIFICIO,
  CONSTRAINT FK_APT_DET_APARTAMENTO FOREIGN KEY(AD_FK_APARTAMENTO) REFERENCES APARTAMENTO
  );

CREATE TABLE AVISOCOBRO(
  AVI_CLAVE            NUMBER,
  AVI_MONTO         FLOAT,
  AVI_PAGADO          VARCHAR2(100),
  AVI_FK_RECIBOMENSUAL   NUMBER,
  AVI_FK_CUENTA       NUMBER,
  AVI_FK_EDIFICIO      NUMBER,
  CONSTRAINT PK_AVISOCOBRO PRIMARY KEY(AVI_CLAVE),
  CONSTRAINT FK_AVISOCOBRO_CUENTA FOREIGN KEY(AVI_FK_CUENTA) REFERENCES CUENTA,
  CONSTRAINT FK_AVISOCOBRO_EDIFICIO FOREIGN KEY(AVI_FK_EDIFICIO) REFERENCES EDIFICIO,
  CONSTRAINT CH_AVISOCOBRO_PAGADO CHECK (AVI_PAGADO IN ('PAGADO','NOPAGADO'))
  );

CREATE TABLE VENTA_APT(
  VAPT_CLAVE            NUMBER,
  VAPT_MONTO            FLOAT,
  VAPT_FK_APT_DET       NUMBER,
  VAPT_FK_OFICINA       NUMBER,
  CONSTRAINT PK_VENTA_APT PRIMARY KEY(VAPT_CLAVE),
  CONSTRAINT FK_VENTA_APT_APT_DET FOREIGN KEY(VAPT_FK_APT_DET) REFERENCES APT_DET,
  CONSTRAINT FK_VENTA_APT_OFICINA FOREIGN KEY(VAPT_FK_OFICINA) REFERENCES OFICINA
 );

CREATE TABLE PAGO(
  PAG_CLAVE            NUMBER,
  PAG_MONTO            FLOAT,
  PAG_DESCRIPCION      VARCHAR2(100),
  PAG_FECHA            DATE,
  PAG_CONFORME         VARCHAR2(100),
  PAG_FK_JUNTACONDOMINIO NUMBER,
  PAG_FK_OFICINA       NUMBER,
  PAG_FK_OFICINA2      NUMBER,
  CONSTRAINT PK_PAGO PRIMARY KEY(PAG_CLAVE),
  CONSTRAINT FK_PAGO_JC FOREIGN KEY(PAG_FK_JUNTACONDOMINIO) REFERENCES JUNTACONDOMINIO,
  CONSTRAINT FK_PAGO_OFICINA FOREIGN KEY(PAG_FK_OFICINA) REFERENCES OFICINA,
  CONSTRAINT FK_PAGO_OFICINA2 FOREIGN KEY(PAG_FK_OFICINA2) REFERENCES OFICINA,
  CONSTRAINT CH_PAGO_CONFORME CHECK (PAG_CONFORME IN ('CONFORME','NOCONFORME'))
  );

CREATE TABLE HOR_DET(
  HD_CLAVE             NUMBER,
  HD_INICIO            TIMESTAMP,
  HD_FIN               TIMESTAMP,
  HD_FK_HORARIO        NUMBER,
  HD_FK_OFICINA        NUMBER,
  HD_FK_ASAMBLEA       NUMBER,
  CONSTRAINT PK_HOR_DET PRIMARY KEY(HD_CLAVE),
  CONSTRAINT FK_HOR_DET_HORARIO FOREIGN KEY(HD_FK_HORARIO) REFERENCES HORARIO,
  CONSTRAINT FK_HOR_DET_OFICINA FOREIGN KEY(HD_FK_OFICINA) REFERENCES OFICINA,
  CONSTRAINT FK_HOR_DET_ASAMBLEA FOREIGN KEY(HD_FK_ASAMBLEA) REFERENCES ASAMBLEA
  );

CREATE TABLE PAG_TDP(
  PDTP_CLAVE             NUMBER,
  PDTP_MONTO FLOAT,
  PDTP_DESCRIPCION VARCHAR2(100),
  PDTP_FK_PAGO        NUMBER,
  PDTP_FK_PROPIETARIO        NUMBER,
  CONSTRAINT PK_PAG_TDP PRIMARY KEY(PDTP_CLAVE),
  CONSTRAINT FK_PAG_TDP_PAGO FOREIGN KEY(PDTP_FK_PAGO) REFERENCES PAGO,
  CONSTRAINT FK_PAG_TDP_PROPIETARIO FOREIGN KEY(PDTP_FK_PROPIETARIO) REFERENCES PROPIETARIO
  );


CREATE TABLE USUARIO(
  USU_CLAVE             NUMBER,
  USU_USUARIO VARCHAR2(100),
  USU_CONTRASENA VARCHAR2(100),
  USU_FK_EMP        NUMBER,
  USU_FK_PROPIETARIO        NUMBER,
  USU_FK_ROL  NUMBER,
  CONSTRAINT PK_USUARIO PRIMARY KEY(USU_CLAVE),
  CONSTRAINT FK_USUARIO_EMP FOREIGN KEY(USU_FK_EMP) REFERENCES EMP_OFI,
  CONSTRAINT FK_USUARIO_PROPIETARIO FOREIGN KEY(USU_FK_PROPIETARIO) REFERENCES PROPIETARIO,
  CONSTRAINT FK_USUARIO_ROL FOREIGN KEY (USU_FK_ROL) REFERENCES ROL
);

CREATE TABLE TRABAJO(
  TRA_CLAVE             NUMBER,
  TRA_DESCRIPCION       VARCHAR2(100),
  TRA_MONTO             FLOAT,
  TRA_CLASIFICACION     VARCHAR2(100),
  TRA_TIPO              VARCHAR2(100),
  TRA_SUSCEPTIBLE      VARCHAR2(100),
  TRA_FK_OFICINA        NUMBER,
  TRA_FK_PROVEEDORSERVICIO  NUMBER,
  TRA_FK_RECIBOMENSUAL  NUMBER,
  TRA_FK_PAGO           NUMBER,
  TRA_FK_LIBRO          NUMBER,
  CONSTRAINT PK_TRABAJO PRIMARY KEY(TRA_CLAVE),
  CONSTRAINT FK_TRABAJO_OFICINA FOREIGN KEY(TRA_FK_OFICINA) REFERENCES OFICINA,
  CONSTRAINT FK_TRABAJO_PS FOREIGN KEY(TRA_FK_PROVEEDORSERVICIO) REFERENCES PROVEEDORSERVICIO,
  CONSTRAINT FK_TRABAJO_RECIBOMENSUAL FOREIGN KEY(TRA_FK_RECIBOMENSUAL) REFERENCES RECIBOMENSUAL,
  CONSTRAINT FK_TRABAJO_PAGO FOREIGN KEY(TRA_FK_PAGO) REFERENCES PAGO,
  CONSTRAINT FK_TRABAJO_LIBRO FOREIGN KEY(TRA_FK_LIBRO) REFERENCES LIBRO,
  CONSTRAINT CH_TRABAJO_CLASIFICACION CHECK (TRA_CLASIFICACION IN ('PRESUPUESTO','TRABAJO')),
  CONSTRAINT CH_TRABAJO_TIPO CHECK (TRA_TIPO IN ('MEJORA','REPARACION','MANTENIMIENTO','ANUNCIO','ASAMBLEA')),
  CONSTRAINT CH_TRABAJO_SUSCEPTIBLE CHECK (TRA_SUSCEPTIBLE IN ('RENCIONIVA','NORETENCIONIVA'))
);

CREATE TABLE TRABAJOMAYOR(
  TM_CLAVE             NUMBER,
  TM_VOTOSFAVOR NUMBER,
  TM_VOTOSCONTRA  NUMBER,
  TM_FK_ASAMBLEA  NUMBER,
  TM_FK_TRABAJO NUMBER,
  CONSTRAINT PK_TRABAJOMATOR PRIMARY KEY(TM_CLAVE),
  CONSTRAINT FK_TRABAJOMAYOR_TRABAJO FOREIGN KEY(TM_FK_TRABAJO) REFERENCES TRABAJO,
  CONSTRAINT FK_TRABAJOMAYOR_ASAMBLEA FOREIGN KEY (TM_FK_ASAMBLEA) REFERENCES ASAMBLEA
);

CREATE TABLE CON_JUN(
  CJ_CLAVE             NUMBER,
  CJ_FK_JUNTA NUMBER,
  CJ_FK_CONTRATO NUMBER,
  CONSTRAINT PK_CON_JUN PRIMARY KEY(CJ_CLAVE),
  CONSTRAINT FK_CON_JUN_JUNTA FOREIGN KEY (CJ_FK_JUNTA) REFERENCES JUNTACONDOMINIO,
  CONSTRAINT FK_CON_JUN_CONTRATO FOREIGN KEY (CJ_FK_CONTRATO) REFERENCES CONTRATO
  );

CREATE TABLE CONT_FONDO(
  CF_CLAVE NUMBER,
  CF_FK_CONTRATO NUMBER,
  CF_FK_FONDO NUMBER,
  CF_MONTO FLOAT,
  CONSTRAINT PK_CONT_FONDO PRIMARY KEY (CF_CLAVE),
  CONSTRAINT FK_CONT_FONDO_CONTRATO FOREIGN KEY (CF_FK_CONTRATO) REFERENCES CONTRATO,
  CONSTRAINT FK_CONT_FONDO_FONDO FOREIGN KEY (CF_FK_FONDO) REFERENCES FONDO

);
  
create table LIB_TRA (

  LT_CLAVE NUMBER,
  LT_FECHAREALIZADO DATE,
  LT_FK_TRABAJO NUMBER,
  LT_FK_LIBRO NUMBER,
  
  CONSTRAINT PK_LIB_TRA PRIMARY KEY (LT_CLAVE),
  CONSTRAINT FK_LIB_TRA_TRABAJO FOREIGN KEY (LT_FK_TRABAJO) REFERENCES TRABAJO,
  CONSTRAINT FK_LIB_TRA_LIBRO FOREIGN KEY (LT_FK_LIBRO) REFERENCES LIBRO);

CREATE TABLE TRA_UT (
TU_CLAVE NUMBER,
TU_CANTIDAD NUMBER,
TU_FK_UT NUMBER,
TU_FK_TRABAJO NUMBER,
CONSTRAINT PK_TRA_UT PRIMARY KEY (TU_CLAVE),
CONSTRAINT FK_TRA_UT_UT FOREIGN KEY (TU_FK_UT) REFERENCES UNIDADTRIBUTARIA,
CONSTRAINT FK_TRA_UT_TRABAJO FOREIGN KEY (TU_FK_TRABAJO) REFERENCES TRABAJO);

CREATE TABLE LIB_MIEM (
  LM_CLAVE NUMBER,
  LM_FK_MIEMBRO NUMBER,
  LM_FK_LIBRO NUMBER,
  CONSTRAINT PK_LIB_MIEM PRIMARY KEY (LM_CLAVE),
  CONSTRAINT FK_LIB_MIEM_MIEMBRO FOREIGN KEY (LM_FK_MIEMBRO) REFERENCES MIEMBRO,
  CONSTRAINT FK_LIB_MIEM_LIBRO FOREIGN KEY (LM_FK_LIBRO) REFERENCES LIBRO);

CREATE TABLE AD_TRA (
  AT_CLAVE NUMBER,
  AT_FK_AREADET NUMBER,
  AT_FK_TRABAJO NUMBER,
  CONSTRAINT PK_AD_TRA PRIMARY KEY (AT_CLAVE),
  CONSTRAINT FK_AD_TRA_AREADET FOREIGN KEY (AT_FK_AREADET) REFERENCES AREA_DET,
  CONSTRAINT FK_AD_TRA_TRABAJO  FOREIGN KEY (AT_FK_TRABAJO) REFERENCES TRABAJO);

CREATE TABLE CITAASAMBLEA (
  CIT_CLAVE NUMBER,
  CIT_FECHA DATE,
  CIT_QUORUM NUMBER,
  CIT_TIPO VARCHAR2 (100),
  CIT_FK_JUNTACONDOMINIO NUMBER,
  CIT_FK_PROPIETARIO NUMBER,
  CIT_FK_ASAMBLEA NUMBER,
  CONSTRAINT PK_CITAASAMBLEA PRIMARY KEY (CIT_CLAVE),
  CONSTRAINT FK_CITAASAMBLEA_JC FOREIGN KEY (CIT_FK_JUNTACONDOMINIO) REFERENCES JUNTACONDOMINIO,
  CONSTRAINT FK_CITAASAMBLEA_PROP FOREIGN KEY (CIT_FK_PROPIETARIO) REFERENCES PROPIETARIO,
  CONSTRAINT FK_CITAASAMBLEA_ASAMBLEA FOREIGN KEY (CIT_FK_ASAMBLEA) REFERENCES ASAMBLEA);

CREATE TABLE LIB_CIT(
  LT_CLAVE NUMBER,
  LT_FK_LIBRO NUMBER,
  LT_FK_CITAASAMBLEA NUMBER,
  LT_FK_ASAMBLEA NUMBER,
  CONSTRAINT PK_LIB_CIT PRIMARY KEY (LT_CLAVE),
  CONSTRAINT FK_LIB_CIT_CITAASAM  FOREIGN KEY (LT_FK_CITAASAMBLEA) REFERENCES CITAASAMBLEA,
  CONSTRAINT FK_LIB_CIT_ASAMBLEA FOREIGN KEY (LT_FK_ASAMBLEA) REFERENCES ASAMBLEA,
  CONSTRAINT FK_LIB_CIT_LIBRO FOREIGN KEY (LT_FK_LIBRO) REFERENCES LIBRO);

alter table AREACOMUN drop column AC_DESCRIPCION;





