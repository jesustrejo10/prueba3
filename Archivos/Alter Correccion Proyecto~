--2
drop table TESORERO;
--3
drop table CON_JUN;
--9
alter table CHEQUE ADD (TDP1_NUMERO_CHEQUE VARCHAR2(100) NOT NULL);
--10
alter table TARJETA ADD (TDP2_TIPO_TARJETA VARCHAR2(10) NOT NULL);
--10.1
alter table TARJETA ADD CONSTRAINT CH_TIPO_TARJETA CHECK(TDP2_TIPO_TARJETA IN ('DEBITO','CREDITO'));
--11
DROP TABLE FON_TDP;
--12
ALTER TABLE LIBRO ADD (LIB_TEXTO VARCHAR2(200) );

alter table APT_DET add (AD_PRECIO FLOAT);
UPDATE APT_DET SET AD_PRECIO = 10000000; 

CREATE SEQUENCE sq_pk_apt INCREMENT BY 1 START WITH 1;
CREATE SEQUENCE SQ_PK_EDIFICIO INCREMENT BY 1 START WITH 1;
CREATE SEQUENCE SQ_PK_AREA_DET INCREMENT BY 1 START WITH 1;
ALTER TABLE APT_DET ADD (AD_VENTA VARCHAR2(20) NOT NULL);
ALTER TABLE APT_DET ADD CONSTRAINT CK_AD_VENTA CHECK (AD_VENTA IN ('SI','NO'));
alter table APARTAMENTO drop column APT_PISO;
ALTER TABLE APT_DET ADD (AD_PISO VARCHAR2(100) NOT NULL);
CREATE SEQUENCE SQ_PK_APT_DET INCREMENT BY 1 START WITH 1;
CREATE SEQUENCE SQ_PK_OFICINA INCREMENT BY 1 START WITH 1;
alter TABLE APT_DET ADD ( AD_PRECIO FLOAT);
drop table FON_TDP2;
drop table PAG_TDP;
ALTER TABLE PAGO ADD (PAG_FK_FONDO NUMBER);
ALTER TABLE PAGO ADD CONSTRAINT FK_PAGO_FONDO FOREIGN KEY (PAG_FK_FONDO) REFERENCES FONDO ON DELETE CASCADE;
ALTER TABLE PAGO ADD (PAG_FK_CHEQUE NUMBER);
ALTER TABLE PAGO ADD CONSTRAINT FK_PAGO_CHEQUE FOREIGN KEY (PAG_FK_CHEQUE) REFERENCES CHEQUE ON DELETE CASCADE;
ALTER TABLE PAGO ADD (PAG_FK_TARJETA NUMBER);
ALTER TABLE PAGO ADD CONSTRAINT FK_PAGO_TARJETA FOREIGN KEY (PAG_FK_TARJETA) REFERENCES TARJETA ON DELETE CASCADE;
ALTER TABLE PAGO ADD (PAG_FK_PROPIETARIO NUMBER);
ALTER TABLE PAGO ADD CONSTRAINT FK_PAGO_PROPIETARIO FOREIGN KEY (PAG_FK_PROPIETARIO) REFERENCES PROPIETARIO ON DELETE CASCADE;
ALTER TABLE UNIDADTRIBUTARIA ADD (UNI_VIGENTE VARCHAR2(2) NOT NULL);
ALTER TABLE UNIDADTRIBUTARIA ADD CONSTRAINT CK_VIGENTE_UT CHECK (UNI_VIGENTE IN ('SI','NO'));
ALTER TABLE TRABAJO ADD (TRA_REALIZADO VARCHAR2(2) NOT NULL);
ALTER TABLE TRABAJO ADD CONSTRAINT CK_TRABAJO_REALIZADO CHECK (TRA_REALIZADO IN ('SI','NO'));
ALTER TABLE TRABAJO ADD (TRA_F_PROPUESTO DATE NOT NULL);
ALTER TABLE TRABAJO ADD (TRA_F_REALIZADO DATE );
CREATE TABLE CONT_FOND (
CF_CLAVE NUMBER,
CF_FK_FONDO NUMBER,
CF_FK_CONTRATO NUMBER,
CF_MONTOAPERTURA FLOAT NOT NULL,
CONSTRAINT PK_CONT_FOND PRIMARY KEY (CF_CLAVE),
CONSTRAINT FK_CF_FONDO FOREIGN KEY (CF_FK_FONDO) REFERENCES FONDO ON DELETE CASCADE,
CONSTRAINT FK_CF_CONTRATO FOREIGN KEY (CF_FK_CONTRATO) REFERENCES CONTRATO ON DELETE CASCADE);
ALTER TABLE LIB_MIEM ADD (LM_FECHA DATE NOT NULL);
ALTER TABLE LIB_MIEM ADD (LM_DESCRIPCION VARCHAR2(200));
CREATE TABLE LIB_EMP (
LE_CLAVE NUMBER,
LE_FK_LIBRO NUMBER,
LE_FK_EMP_OFI NUMBER,
LE_FECHA DATE NOT NULL,
LE_DESCRIPCION VARCHAR2(200),
CONSTRAINT PK_LIB_EMP PRIMARY KEY (LE_CLAVE),
CONSTRAINT FK_LE_LIBRO FOREIGN KEY (LE_FK_LIBRO) REFERENCES LIBRO ON DELETE CASCADE,
CONSTRAINT FK_LE_EMP_OFI FOREIGN KEY (LE_FK_EMP_OFI) REFERENCES EMP_OFI ON DELETE CASCADE);
CREATE TABLE LLAMADO (
LLA_CLAVE NUMBER,
LLA_NUMERO NUMBER NOT NULL,
LLA_QUORUM_MINIMO NUMBER,
LLA_PORCENTAJEAPROBACION FLOAT,
LLA_FK_CONTRATO NUMBER,
CONSTRAINT PK_LLAMADO PRIMARY KEY (LLA_CLAVE),
CONSTRAINT FK_LLAMADO_CONTRATO FOREIGN KEY (LLA_FK_CONTRATO) REFERENCES CONTRATO ON DELETE CASCADE
);
ALTER TABLE CONTRATO DROP COLUMN CONT_LLAMADOS; 
alter table VENTA_APT add (VAPT_FECHA DATE NOT NULL);
alter table CONTRATO DROP column CONT_QUORUM_MINIMO;
create sequence SQ_PK_LLAMADO increment by 1 start with 1;
create sequence SQ_PK_MIEMBROS increment by 1 start with 1;
